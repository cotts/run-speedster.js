(function(a){'use strict';function b(t){return a.details=t,details.runner=t.runner||'standard',details.howBig=t.howBig||50,details.disappear=t.disappear||!1,details.speed=t.speed||60,Promise.resolve(details)}async function c(t){await function(v){return new Promise(w=>setTimeout(w,v))}(t)}let e=[],f=0,g=0,j=-100,l=!1,m;var n;var o=async(t,u,v)=>{let w=document.querySelector(t);n=document.querySelector(u);let y=w.offsetWidth,z=document.createElement('span');return m=-1*w.offsetWidth,b(v).then(A=>{details=A,Object.assign(z.style,{background:`url(../img/${details.runner}.svg) center no-repeat`,'background-size':`${details.howBig}px ${details.howBig}px`,width:`${details.howBig}px`,height:`${details.howBig}px`,position:'absolute',opacity:0,left:`${w.offsetLeft}px`}),Object.assign(z,{config:{speed:details.speed,path:w,init:w.offsetLeft,sizeOfPath:y,disappear:details.disappear,howBig:details.howBig},className:'speedster'}),Object.assign(n.style,{left:-1*(w.offsetWidth-details.howBig)+'px',position:'absolute'}),w.appendChild(z)}),await Promise.resolve(z)};let p=t=>{if(f!=t.config.sizeOfPath-t.config.howBig)return e.push({span:t.cloneNode(!0),config:t.config}),f++,p(t),Promise.resolve(e)},q=t=>{if(g!==t.length)return Object.assign(t[g].span.style,{left:`${t[g].config.init+g}px`,opacity:1e-4*g,'z-index':-1*g}),g++,q(t),Promise.resolve(t)},r=(t,u)=>{let v=u;var w=t[0].config.speed,y=t[0].config.disappear,z=t[0].config.sizeOfPath,A=t[0].config.init,B=t[0].config.path,C=B.firstElementChild.getBoundingClientRect().left,D=B.childElementCount;if(!(v>=z)){C>=t.length-w-2&&(w=z-C-t[0].config.howBig-1,m+=2,l=!0);for(let E=0;E<=w;E++){if('undefined'==typeof v&&(v=0),D=B.childElementCount,C>=z/2&&D>w&&y){if(1===D)return void B.removeChild(B.childNodes[1]);B.removeChild(B.childNodes[1]),B.removeChild(B.childNodes[1])}if(C>=z/2&&D>w&&!y){if(2===D)return void B.removeChild(B.childNodes[2]);B.removeChild(B.childNodes[2]),B.removeChild(B.childNodes[2])}B.firstElementChild.style.left=`${C+E}px`,B.appendChild(e[v+E].span),n.style.left=`${m+v+E+1}px`}return requestAnimationFrame(()=>r(t,C-t[0].config.init+w)),Promise.resolve(t)}};var s=async t=>{if(0!=j)return t.style.opacity=1+j/100,j++,requestAnimationFrame(()=>s(t)),await c(2e3),Promise.resolve(t)};a.RunSpeedster=a.RunSpeedster||{},a.RunSpeedster.init=function(t,u,v){o(t,u,v).then(s).then(p).then(q).then(r)}})(window);